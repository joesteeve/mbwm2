2006-01-31  Matthew Allum  <mallum@openedhand.com>

	* src/client-types/mb-wm-client-app.c: (mb_wm_client_app_get_type),
	(mb_wm_client_app_request_geometry), (decor_resize),
	(decor_repaint), (mb_wm_client_app_new):
	* src/core/Makefile.am:
	* src/core/mb-wm-client-base.c: (mb_wm_client_base_realize),
	(mb_wm_client_base_display_sync), (mb_wm_client_base_destroy),
	(mb_wm_client_base_request_geometry):
	* src/core/mb-wm-client.h:
	* src/core/mb-wm-core.c: (test_destroy_notify),
	(mb_wm_core_handle_map_request), (stack_get_window_list),
	(stack_sync_to_display), (mb_wm_core_sync),
	(mb_wm_core_manage_client), (mb_wm_run), (mb_wm_init):
	* src/core/mb-wm-decor.c: (mb_wm_decor_sync_window),
	(mb_wm_decor_reparent), (mb_wm_decor_calc_geometry),
	(mb_wm_decor_handle_map), (mb_wm_decor_handle_repaint),
	(mb_wm_decor_handle_resize), (mb_wm_decor_create),
	(mb_wm_decor_get_x_window), (mb_wm_decor_get_type),
	(mb_wm_decor_get_geometry), (mb_wm_decor_mark_dirty):
	* src/core/mb-wm-decor.h:
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-util.c: (mb_wm_util_malloc0):
	* src/core/mb-wm-util.h:
	* src/core/mb-wm-window.c: (mb_wm_client_window_new):
	* src/core/mb-wm.h:
	Redo decor handling. 
	Simplify syncing queue a little more.
	Various up minor cleanups and tweaks.

2006-01-25  Matthew Allum  <mallum@openedhand.com>

	* src/core/Makefile.am:
	* src/core/mb-wm-client-base.c: (mb_wm_client_base_display_sync):
	* src/core/mb-wm-client.c: (mb_wm_client_visibility_mark_dirty),
	(mb_wm_client_needs_visibility_sync),
	(mb_wm_client_needs_geometry_sync):
	* src/core/mb-wm-client.h:
	* src/core/mb-wm-core.c:
	* src/core/mb-wm-decor.c: (mb_wm_decor_create),
	(mb_wm_decor_get_x_window), (mb_wm_decor_mark_dirty),
	(mb_wm_decor_attach), (mb_wm_decor_detach), (mb_wm_decor_unref),
	(mb_wm_decor_ref), (mb_wm_decor_button_create):
	* src/core/mb-wm-decor.h:
	* src/core/mb-wm.h:
	Add some initial infrastructure for window decorations

2006-01-15  Matthew Allum  <mallum@openedhand.com>

	* src/client-types/mb-wm-client-app.c:
	* src/client-types/mb-wm-client-app.h:
	* src/client-types/mb-wm-client-panel.c: (mb_wm_client_panel_new):
	* src/client-types/mb-wm-client-panel.h:
	* src/core/mb-wm-client-base.c: (mb_wm_client_base_init),
	(mb_wm_client_base_realize), (mb_wm_client_base_stack),
	(mb_wm_client_base_show), (mb_wm_client_base_hide),
	(mb_wm_client_base_display_sync), (mb_wm_client_base_destroy):
	* src/core/mb-wm-client-base.h:
	* src/core/mb-wm-client.c: (mb_wm_client_needs_stack_sync),
	(mb_wm_client_hide):
	* src/core/mb-wm-client.h:
	* src/core/mb-wm-core.c: (test_destroy_notify),
	(mb_wm_core_handle_map_request), (stack_get_window_list),
	(mb_wm_core_sync), (mb_wm_core_manage_client),
	(mb_wm_core_unmanage_client), (mb_wm_run),
	(mb_wm_get_display_geometry), (mb_wm_display_sync_queue),
	(mb_wm_init):
	* src/core/mb-wm-core.h:
	* src/core/mb-wm-keys.c: (mb_wm_keys_press):
	* src/core/mb-wm-stack.c: (mb_wm_stack_insert_above_client),
	(mb_wm_stack_prepend_bottom):
	* src/core/mb-wm-stack.h:
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-util.c: (mb_wm_util_warn),
	(mb_wm_util_list_length), (mb_wm_util_list_get_last),
	(mb_wm_util_list_get_first), (mb_wm_util_list_get_nth_data),
	(mb_wm_util_list_append):
	* src/core/mb-wm-util.h:
	* src/core/mb-wm-window.c: (mb_wm_window_sync_properties):
	* src/core/mb-wm.h:
	* src/managers/matchbox-window-manager-2-simple.c:
	(key_binding_func), (main):
	Various minor tweaks.

2005-11-17  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	* src/client-types/mb-wm-client-app.c:
	* src/client-types/mb-wm-client-app.h:
	* src/client-types/mb-wm-client-panel.c: (mb_wm_client_panel_new):
	* src/client-types/mb-wm-client-panel.h:
	* src/core/mb-wm-client.h:
	Make things build again.

	* src/managers/matchbox-window-manager-2-simple.c: (client_new):
	* src/matchbox-window-manager-2.c:
	Move and rename.	

2005-11-17  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	* src/Makefile.am:
	* src/client-types/Makefile.am:
	* src/client-types/mb-wm-client-app.c:
	* src/client-types/mb-wm-client-app.h:
	* src/client-types/mb-wm-client-panel.c:
	* src/client-types/mb-wm-client-panel.h:
	* src/core/Makefile.am:
	* src/core/mb-wm-atoms.c: (mb_wm_atoms_init):
	* src/core/mb-wm-client-base.c:
	* src/core/mb-wm-client-base.h:
	* src/core/mb-wm-client.c:
	* src/core/mb-wm-client.h:
	* src/core/mb-wm-decor.c:
	* src/core/mb-wm-decor.h:
	* src/core/mb-wm-props.c: (mb_wm_xwin_get_geometry_reply):
	* src/core/mb-wm-props.h:
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-window.h:
	* src/core/mb-wm.h:
	* src/managers/Makefile.am:
	* src/matchbox-window-manager-2.c:
	More refactoring. Add initial decoration framework code

2005-11-11  Matthew Allum  <mallum@openedhand.com>

	reviewed by: <delete if not using a buddy>

	* src/core/mb-wm-atoms.c: (mb_wm_atoms_init):
	* src/core/mb-wm-props.c: (mb_wm_property_reply):
	* src/core/mb-wm-props.h:
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-window.c: (mb_wm_window_sync_properties):
	* src/core/mb-wm-window.h:

2005-11-10  Matthew Allum  <mallum@openedhand.com>

	reviewed by: <delete if not using a buddy>

	* src/core/mb-wm-atoms.c: (mb_wm_atoms_init):
	* src/core/mb-wm-props.c: (mb_wm_property_reply):
	* src/core/mb-wm-props.h:
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-window.c: (mb_wm_window_sync_properties):
	* src/core/mb-wm-window.h:

2005-11-08  Matthew Allum  <mallum@openedhand.com>

	* Makefile:
	* Makefile.am:
	* autogen.sh:
	* configure.ac:
	* matchbox-window-manager-2.c:
	* mb-wm-atoms.c:
	* mb-wm-atoms.h:
	* mb-wm-client.c:
	* mb-wm-client.h:
	* mb-wm-core.c:
	* mb-wm-core.h:
	* mb-wm-keys.c:
	* mb-wm-keys.h:
	* mb-wm-layout.c:
	* mb-wm-layout.h:
	* mb-wm-props.c:
	* mb-wm-props.h:
	* mb-wm-stack.c:
	* mb-wm-stack.h:
	* mb-wm-types.h:
	* mb-wm-util.c:
	* mb-wm-util.h:
	* mb-wm.h:
	* src/Makefile.am:
	* src/core/Makefile.am:
	* src/core/mb-wm-client.c: (mb_wm_client_window_new),
	(mb_wm_client_new), (mb_wm_client_base_init):
	* src/core/mb-wm-client.h:
	* src/core/mb-wm-core.c: (test_map_request), (mb_wm_run):
	* src/core/mb-wm-types.h:
	* src/core/mb-wm-window.c:
	* src/core/mb-wm-window.h:
	* src/core/mb-wm.h:
	* src/matchbox-window-manager-2.c:
	(test_panel_client_request_geometry), (test_client_new):
	* xas.c:
	* xas.h:
	Autofooify. Split Window 'wrapper' code into its own file
        and rejig a little.

2005-11-06  Matthew Allum  <mallum@openedhand.com>

	* Makefile:
	* matchbox-window-manager-2.c: (client_new), (main):
	* mb-wm-client.c: (mb_wm_client_set_layout_hints):
	* mb-wm-client.h:
	* mb-wm-core.c: (mb_wm_run), (mb_wm_init):
	* mb-wm-keys.c:
	* mb-wm-keys.h:
	* mb-wm-types.h:
	* mb-wm-util.c: (mb_wm_util_malloc0),
	(mb_wm_util_list_get_nth_data), (mb_wm_util_list_append):
	* mb-wm-util.h:
	* mb-wm.h:
	Add initial key bindings support.
	Various other minor tweaks.

2005-11-04  Matthew Allum  <mallum@openedhand.com>

	* Makefile:
	* matchbox-window-manager-2.c:
	(test_panel_client_request_geometry), (test_panel_client_new),
	(test_client_new), (client_new), (main):
	* mb-wm-client.c: (mb_wm_client_window_new),
	(mb_wm_client_base_init), (mb_wm_client_init),
	(mb_wm_client_is_realized), (mb_wm_client_base_realize),
	(mb_wm_client_needs_sync), (mb_wm_client_is_mapped),
	(mb_wm_client_base_display_sync), (mb_wm_client_display_sync),
	(mb_wm_client_destroy), (mb_wm_client_base_destroy),
	(mb_wm_client_base_request_geometry),
	(mb_wm_client_request_geometry):
	* mb-wm-client.h:
	* mb-wm-core.c: (mb_wm_init):
	* mb-wm-layout-manager.c:
	* mb-wm-layout-manager.h:
	* mb-wm-layout.c: (maximise_geometry),
	(mb_wm_layout_manager_get_edge_offset),
	(mb_wm_layout_manager_update):
	* mb-wm-util.c: (mb_wm_util_trap_x_errors), (mb_wm_util_malloc0):
	* mb-wm-util.h:
	* mb-wm.h:
	* xas.c: (xas_async_handler):
	Fix up layout manager and add some layout support for panels.
